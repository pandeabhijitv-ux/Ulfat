import re

# Read the current shayari.js file
with open('shayari.js', 'r', encoding='utf-8') as f:
    content = f.read()

# Find all existing IDs to determine the next ID
ids = re.findall(r'id:\s*(\d+),', content)
last_id = max([int(id) for id in ids]) if ids else 0

print(f"Last ID found: {last_id}")

# Dagh Dehlvi shayari collected from Rekhta.org
new_shayari = [
    # From: तुम्हारे ख़त में नया इक सलाम किस का था
    {'category': 'romantic', 'text': 'तुम्हारे ख़त में नया इक सलाम किस का था\nन था रक़ीब तो आख़िर वो नाम किस का था'},
    {'category': 'romantic', 'text': 'वो क़त्ल कर के मुझे हर किसी से पूछते हैं\nये काम किस ने किया है ये काम किस का था'},
    {'category': 'romantic', 'text': 'वफ़ा करेंगे निबाहेंगे बात मानेंगे\nतुम्हें भी याद है कुछ ये कलाम किस का था'},
    {'category': 'sad', 'text': 'रहा न दिल में वो बेदर्द और दर्द रहा\nमुक़ीम कौन हुआ है मक़ाम किस का था'},
    {'category': 'romantic', 'text': 'तमाम बज़्म जिसे सुन के रह गई मुश्ताक़\nकहो वो तज़्किरा-ए-ना-तमाम किस का था'},
    {'category': 'sad', 'text': 'गुज़र गया वो ज़माना कहूँ तो किस से कहूँ\nख़याल दिल को मिरे सुब्ह ओ शाम किस का था'},
    {'category': 'romantic', 'text': 'अगरचे देखने वाले तिरे हज़ारों थे\nतबाह-हाल बहुत ज़ेर-ए-बाम किस का था'},
    {'category': 'life', 'text': 'हर इक से कहते हैं क्या \'दाग़\' बेवफ़ा निकला\nये पूछे उन से कोई वो ग़ुलाम किस का था'},
    
    # From: ग़ज़ब किया तिरे वा'दे पे ए'तिबार किया
    {'category': 'romantic', 'text': 'ग़ज़ब किया तिरे वा\'दे पे ए\'तिबार किया\nतमाम रात क़यामत का इंतिज़ार किया'},
    {'category': 'sad', 'text': 'किसी तरह जो न उस बुत ने ए\'तिबार किया\nमिरी वफ़ा ने मुझे ख़ूब शर्मसार किया'},
    {'category': 'romantic', 'text': 'हँसा हँसा के शब-ए-वस्ल अश्क-बार किया\nतसल्लियाँ मुझे दे दे के बे-क़रार किया'},
    {'category': 'sad', 'text': 'सुना है तेग़ को क़ातिल ने आब-दार किया\nअगर ये सच है तो बे-शुब्ह हम पे वार किया'},
    {'category': 'romantic', 'text': 'तुझे तो वादा-ए-दीदार हम से करना था\nये क्या किया कि जहाँ को उमीद-वार किया'},
    {'category': 'life', 'text': 'तड़प फिर ऐ दिल-ए-नादाँ कि ग़ैर कहते हैं\nअख़ीर कुछ न बनी सब्र इख़्तियार किया'},
    {'category': 'romantic', 'text': 'भुला भुला के जताया है उन को राज़-ए-निहाँ\nछुपा छुपा के मोहब्बत को आश्कार किया'},
    {'category': 'life', 'text': 'बनेगा मेहर-ए-क़यामत भी एक ख़ाल-ए-सियाह\nजो चेहरा \'दाग़\'-ए-सियह-रू ने आश्कार किया'},
    
    # From: उज़्र आने में भी है और बुलाते भी नहीं
    {'category': 'romantic', 'text': 'उज़्र आने में भी है और बुलाते भी नहीं\nबाइस-ए-तर्क-ए-मुलाक़ात बताते भी नहीं'},
    {'category': 'romantic', 'text': 'मुंतज़िर हैं दम-ए-रुख़्सत कि ये मर जाए तो जाएँ\nफिर ये एहसान कि हम छोड़ के जाते भी नहीं'},
    {'category': 'romantic', 'text': 'ख़ूब पर्दा है कि चिलमन से लगे बैठे हैं\nसाफ़ छुपते भी नहीं सामने आते भी नहीं'},
    {'category': 'romantic', 'text': 'देखते ही मुझे महफ़िल में ये इरशाद हुआ\nकौन बैठा है उसे लोग उठाते भी नहीं'},
    {'category': 'life', 'text': 'ज़ीस्त से तंग हो ऐ \'दाग़\' तो जीते क्यूँ हो\nजान प्यारी भी नहीं जान से जाते भी नहीं'},
    
    # From: ले चला जान मिरी रूठ के जाना तेरा
    {'category': 'sad', 'text': 'ले चला जान मिरी रूठ के जाना तेरा\nऐसे आने से तो बेहतर था न आना तेरा'},
    {'category': 'romantic', 'text': 'तू जो ऐ ज़ुल्फ़ परेशान रहा करती है\nकिस के उजड़े हुए दिल में है ठिकाना तेरा'},
    {'category': 'sad', 'text': 'आरज़ू ही न रही सुब्ह-ए-वतन की मुझ को\nशाम-ए-ग़ुर्बत है अजब वक़्त सुहाना तेरा'},
    {'category': 'life', 'text': 'काबा ओ दैर में या चश्म-ओ-दिल-ए-आशिक़ में\nइन्हीं दो-चार घरों में है ठिकाना तेरा'},
    {'category': 'romantic', 'text': 'बज़्म-ए-दुश्मन से तुझे कौन उठा सकता है\nइक क़यामत का उठाना है उठाना तेरा'},
    {'category': 'life', 'text': '\'दाग़\' को यूँ वो मिटाते हैं ये फ़रमाते हैं\nतू बदल डाल हुआ नाम पुराना तेरा'},
    
    # From: सब लोग जिधर वो हैं उधर देख रहे हैं
    {'category': 'romantic', 'text': 'सब लोग जिधर वो हैं उधर देख रहे हैं\nहम देखने वालों की नज़र देख रहे हैं'},
    {'category': 'romantic', 'text': 'तेवर तिरे ऐ रश्क-ए-क़मर देख रहे हैं\nहम शाम से आसार-ए-सहर देख रहे हैं'},
    {'category': 'romantic', 'text': 'मेरा दिल-ए-गुम-गश्ता जो ढूँडा नहीं मिलता\nवो अपना दहन अपनी कमर देख रहे हैं'},
    {'category': 'life', 'text': 'है मजमा-ए-अग़्यार कि हंगामा-ए-महशर\nक्या सैर मिरे दीदा-ए-तर देख रहे हैं'},
    {'category': 'romantic', 'text': 'अब ऐ निगह-ए-शौक़ न रह जाए तमन्ना\nइस वक़्त उधर से वो इधर देख रहे हैं'},
    {'category': 'life', 'text': 'मैं \'दाग़\' हूँ मरता हूँ इधर देखिए मुझ को\nमुँह फेर के ये आप किधर देख रहे हैं'},
    
    # From: अच्छी सूरत पे ग़ज़ब टूट के आना दिल का
    {'category': 'romantic', 'text': 'अच्छी सूरत पे ग़ज़ब टूट के आना दिल का\nयाद आता है हमें हाए ज़माना दिल का'},
    {'category': 'romantic', 'text': 'निगह-ए-यार ने की ख़ाना-ख़राबी ऐसी\nन ठिकाना है जिगर का न ठिकाना दिल का'},
    {'category': 'romantic', 'text': 'ग़ुंचा-ए-गुल को वो मुट्ठी में लिए आते थे\nमैं ने पूछा तो किया मुझ से बहाना दिल का'},
    {'category': 'life', 'text': 'दे ख़ुदा और जगह सीना ओ पहलू के सिवा\nकि बुरे वक़्त में हो जाए ठिकाना दिल का'},
    {'category': 'romantic', 'text': 'निगह-ए-शर्म को बे-ताब किया काम किया\nरंग लाया तिरी आँखों में समाना दिल का'},
    {'category': 'life', 'text': 'बा\'द मुद्दत के ये ऐ \'दाग़\' समझ में आया\nवही दाना है कहा जिस ने न माना दिल का'},
    
    # From: मिलाते हो उसी को ख़ाक में जो दिल से मिलता है
    {'category': 'sad', 'text': 'मिलाते हो उसी को ख़ाक में जो दिल से मिलता है\nमिरी जाँ चाहने वाला बड़ी मुश्किल से मिलता है'},
    {'category': 'life', 'text': 'कहीं है ईद की शादी कहीं मातम है मक़्तल में\nकोई क़ातिल से मिलता है कोई बिस्मिल से मिलता है'},
    {'category': 'romantic', 'text': 'भरे हैं तुझ में वो लाखों हुनर ऐ मजमा-ए-ख़ूबी\nमुलाक़ाती तिरा गोया भरी महफ़िल से मिलता है'},
    {'category': 'life', 'text': 'मिसाल-ए-गंज-ए-क़ारूँ अहल-ए-हाजत से नहीं छुपता\nजो होता है सख़ी ख़ुद ढूँड कर साइल से मिलता है'},
    {'category': 'romantic', 'text': 'जवाब इस बात का उस शोख़ को क्या दे सके कोई\nजो दिल ले कर कहे कम-बख़्त तू किस दिल से मिलता है'},
    {'category': 'life', 'text': 'ग़ज़ब है \'दाग़\' के दिल से तुम्हारा दिल नहीं मिलता\nतुम्हारा चाँद सा चेहरा मह-ए-कामिल से मिलता है'},
    
    # From: लुत्फ़ वो इश्क़ में पाए हैं कि जी जानता है
    {'category': 'romantic', 'text': 'लुत्फ़ वो इश्क़ में पाए हैं कि जी जानता है\nरंज भी ऐसे उठाए हैं कि जी जानता है'},
    {'category': 'sad', 'text': 'जो ज़माने के सितम हैं वो ज़माना जाने\nतू ने दिल इतने सताए हैं कि जी जानता है'},
    {'category': 'romantic', 'text': 'तुम नहीं जानते अब तक ये तुम्हारे अंदाज़\nवो मिरे दिल में समाए हैं कि जी जानता है'},
    {'category': 'romantic', 'text': 'इन्हीं क़दमों ने तुम्हारे इन्हीं क़दमों की क़सम\nख़ाक में इतने मिलाए हैं कि जी जानता है'},
    {'category': 'life', 'text': 'दोस्ती में तिरी दर-पर्दा हमारे दुश्मन\nइस क़दर अपने पराए हैं कि जी जानता है'}
]

# Generate new entries with incremented IDs
new_entries = []
for i, shayari in enumerate(new_shayari, 1):
    new_id = last_id + i
    entry = f"""  {{
    id: {new_id},
    language: 'urdu',
    category: '{shayari['category']}',
    author: 'दाग़ देहलवी',
    text: `{shayari['text']}`
  }}"""
    new_entries.append(entry)

# Join all new entries with commas
new_entries_text = ',\n'.join(new_entries)

# Find the last entry in the array and add new entries before the closing bracket
pattern = r'(const hindiShayari = \[.*?)(];)'
replacement = r'\1,\n' + new_entries_text + r'\n\2'

# Replace in content
new_content = re.sub(pattern, replacement, content, flags=re.DOTALL)

# Write back to file
with open('shayari.js', 'w', encoding='utf-8') as f:
    f.write(new_content)

print(f"Successfully added {len(new_shayari)} shayari by दाग़ देहलवी!")
print(f"New IDs: {last_id + 1} to {last_id + len(new_shayari)}")
